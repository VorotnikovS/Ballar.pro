<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Ballar â€” Rive Site</title>
  <script src="https://unpkg.com/@rive-app/webgl"></script>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      width: 100%;
      height: 100%;
      background-color: black;
    }

    canvas {
      display: block;
      width: 100vw;
      height: 100vh;
    }
  </style>
</head>
<body>
  <canvas id="rive-canvas"></canvas>

  <script>
    const canvas = document.getElementById("rive-canvas");

    const dpr = window.devicePixelRatio || 1;
    canvas.width = window.innerWidth * dpr;
    canvas.height = window.innerHeight * dpr;
    canvas.style.width = "100vw";
    canvas.style.height = "100vh";

    let scrollYInput;

    const riveInstance = new rive.Rive({
      src: "ballar.riv",
      canvas: canvas,
      autoplay: true,
      artboard: "Ballar",
      stateMachines: ["State Machine 1"],
      layout: new rive.Layout({
        fit: rive.Fit.FitWidth,
        alignment: rive.Alignment.TopCenter
      }),
      onLoad: () => {
        console.log("âœ… Rive animation loaded.");

        const inputs = riveInstance.stateMachineInputs("State Machine 1");

        // ÐŸÐµÑ€ÐµÐ´Ð°Ñ‘Ð¼ ÑˆÐ¸Ñ€Ð¸Ð½Ñƒ ÑÐºÑ€Ð°Ð½Ð° Ð² input 'Size'
        const sizeInput = inputs.find(i => i.name === "Size");
        if (sizeInput) {
          sizeInput.value = window.innerWidth;
          console.log("ðŸ“ ÐŸÐµÑ€ÐµÐ´Ð°Ð½Ð¾ Ð² Rive Size:", sizeInput.value);
        } else {
          console.warn("â—ï¸ Input 'Size' Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½ Ð² State Machine 1");
        }

        // ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð°ÐµÐ¼ scrollY input
        scrollYInput = inputs.find(i => i.name === "ScrollY");
        if (!scrollYInput) {
          console.warn("â—ï¸ Input 'ScrollY' Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½ Ð² State Machine 1");
        }
      },
      onError: (err) => console.error("âŒ ÐžÑˆÐ¸Ð±ÐºÐ° Rive:", err)
    });

    // ÐŸÑ€Ð¾ÐºÑ€ÑƒÑ‚ÐºÐ° ÐºÐ¾Ð»ÐµÑÐ¸ÐºÐ¾Ð¼ Ð¼Ñ‹ÑˆÐ¸
    window.addEventListener("wheel", (e) => {
      if (scrollYInput) {
        scrollYInput.value += e.deltaY * 0.3;
        console.log("ðŸ–± ScrollY =", scrollYInput.value);
         // ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡Ð¸Ð²Ð°ÐµÐ¼ Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½ Ð¾Ñ‚ 0 Ð´Ð¾ 2000
    scrollYInput.value = Math.max(0, Math.min(2000, scrollYInput.value));

    console.log("ðŸ–± ScrollY =", scrollYInput.value);
      }
    });
  </script>
</body>
</html>
